<div class="page-header">
	<h1>Settings</h1>
	<form onsubmit="update_settings(); return false" id="update_settings_form">
		<div id="update_settings_msg"/>
		<div class="row">
			<div class="col-xs-3">
				<label for="ctf_name"><small>CTF name</small></label>
				<input class="form-control" type="text" required name="ctf_name" id="ctf_name" placeholder="CTF name" autocomplete="off" ng-value="settings['ctf_name']"/>
			</div>
		</div>

		<div class="row">
			<div class="col-xs-3">
				<label for="start_time"><small>Start Time</small></label>
				<input class="form-control" type="number" required name="start_time" id="start_time" placeholder="UNIX Timestamp" autocomplete="off" ng-value="settings['start_time']"/>
			</div>
		</div>
		<p id="start_time_hint">CTF will start on <time>...</time></p>

		<div class="row">
			<div class="col-xs-3">
				<label for="end_time"><small>End Time</small></label>
				<input class="form-control" type="number" required name="end_time" id="end_time" placeholder="UNIX Timestamp" autocomplete="off" ng-value="settings['end_time']"/>
			</div>
		</div>
		<p id="end_time_hint">CTF will end on <time>...</time></p>
		<div class="row">
			<div class="col-xs-3">
				<label for="team_size"><small>Team Size</small></label>
				<input class="form-control" type="number" required name="team_size" id="team_size" placeholder="Team Size" autocomplete="off" ng-value="settings['team_size']"/>
			</div>
		</div>
		<br>
		<div class="row">
			<div class="col-sm-12 form-group">
				<input type="submit" class="btn btn-success" value="Update"/>
			</div>
		</div>
	</form>
</div>

<script type="text/javascript">
	var handler = function() {
		var date = new Date(~~($("#start_time").val()) * 1000);
		$("#start_time_hint > time").html(date.toLocaleString());
		date = new Date(~~($("#end_time").val()) * 1000);
		$("#end_time_hint > time").html(date.toLocaleString());
	};
	$(document).ready(function() {
		$(".selectpicker").selectpicker();
		var checkedClass = "fa fa-check-square";
		var uncheckedClass = "fa fa-square";
		$("#start_time").change(handler);
		$("#start_time").keyup(handler);
		$("#end_time").change(handler);
		$("#end_time").keyup(handler);
	});
</script>
